-- Create the categories table
CREATE TABLE categories (
    category_id INT AUTO_INCREMENT PRIMARY KEY, -- Automatically increment the category ID
    category_name VARCHAR(45) NOT NULL          -- Name of the category (not nullable)
);


-- Create the accounts table
CREATE TABLE accounts (
    account_id INT AUTO_INCREMENT PRIMARY KEY,  -- Automatically increment the account ID
    username VARCHAR(15) NOT NULL,              -- Username (not nullable)
    password VARCHAR(255) NOT NULL,              -- Password (not nullable)
    role VARCHAR(1) DEFAULT 'U'                  -- User role, default value is 'U'
);


-- Create the users table
CREATE TABLE users (
    user_id INT AUTO_INCREMENT PRIMARY KEY,      -- Automatically increment the user ID
    first_name VARCHAR(45) NOT NULL,             -- First name (not nullable)
    last_name VARCHAR(45) NOT NULL,              -- Last name (not nullable)
    contact_number VARCHAR(45) NOT NULL,         -- Contact number (not nullable)
    address VARCHAR(45) NOT NULL,                 -- Address (not nullable)
    avatar VARCHAR(45) NULL,                      -- Avatar (nullable)
    bio VARCHAR(100) NULL,                        -- Bio (nullable)
    account_id INT,                              -- Foreign key to link to the accounts table
    FOREIGN KEY (account_id) REFERENCES accounts(account_id)  -- Define relationship with the accounts table
);


-- Create the posts table
CREATE TABLE posts (
    post_id INT AUTO_INCREMENT PRIMARY KEY,      -- Automatically increment the post ID
    post_title VARCHAR(45) NOT NULL,             -- Title of the post (not nullable)
    post_message TEXT NOT NULL,                   -- Content/message of the post (not nullable)
    date_posted DATE NOT NULL,                    -- Date the post was created (not nullable)
    category_id INT,                              -- Foreign key to link to the categories table
    account_id INT,                               -- Foreign key to link to the accounts table
    FOREIGN KEY (category_id) REFERENCES categories(category_id), -- Define relationship with categories
    FOREIGN KEY (account_id) REFERENCES accounts(account_id)       -- Define relationship with accounts
);
